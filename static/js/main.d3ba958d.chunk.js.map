{"version":3,"sources":["components/editor/card_edit_form.module.css","components/button/button.module.css","components/login/login.jsx","components/editor/addFom.jsx","components/button/button.jsx","components/editor/editForm.jsx","components/editor/editor.jsx","components/preview/card.jsx","components/preview/preview.jsx","components/maker/maker.jsx","App.jsx","components/image_file_input/image_file_input.jsx","service/firebase.js","service/auth_service.js","service/image_uploader.js","service/cardRepository.js","index.js"],"names":["module","exports","Login","authService","history","useHistory","goToMaker","userId","push","pathname","state","id","onLogin","event","login","currentTarget","textContent","then","data","user","uid","console","log","useEffect","onAuthChange","class","className","src","alt","onClick","AddFom","FileInput","addCard","formRef","useRef","nameRef","companyRef","themeRef","titleRef","emailRef","messageRef","ref","type","placeholder","name","value","preventDefault","obj","Date","now","current","company","theme","title","email","message","fileName","fileURL","reset","Button","styles","button","CardEditForm","memo","card","updateCard","deleteCard","onChange","form","input","select","textarea","fileInput","onFileChange","file","url","Editor","cards","Object","keys","map","key","getStyles","Card","Preview","Maker","cardRepository","useState","setCards","location","setUserId","onLogout","useCallback","logout","stopSync","syncCards","createOrUpdateCard","updated","saveCard","removeCard","App","exact","path","ImageFileInput","imageUploader","inputRef","a","target","files","upload","uploaded","original_filename","accept","click","firebaseApp","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","firebaseAuth","auth","firebaseDatabase","database","AuthService","providerName","authProvider","signInWithPopup","signOut","onUserChanged","onAuthStateChanged","ImageUploader","FormData","append","fetch","method","body","result","json","CardRepository","onUpdate","on","snapshot","val","off","set","remove","ReactDOM","render","StrictMode","props","document","getElementById"],"mappings":"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","file":"static/js/main.d3ba958d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"card_edit_form_form__PkW6q\",\"input\":\"card_edit_form_input__10NVf\",\"textarea\":\"card_edit_form_textarea__3HmWN\",\"select\":\"card_edit_form_select__1D3JM\",\"button\":\"card_edit_form_button__3yWLx\",\"fileInput\":\"card_edit_form_fileInput__ohTgo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"button_button__2dOZs\"};","import React, { useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport './login.scss';\r\n\r\nconst Login = ({ authService }) => {\r\n\tconst history = useHistory();\r\n\r\n\tconst goToMaker = (userId) => {\r\n\t\thistory.push({\r\n\t\t\tpathname: '/maker',\r\n\t\t\tstate: {\r\n\t\t\t\tid: userId,\r\n\t\t\t},\r\n\t\t});\r\n\t};\r\n\r\n\tconst onLogin = (event) => {\r\n\t\tauthService\r\n\t\t\t.login(event.currentTarget.textContent) //\r\n\t\t\t.then((data) => goToMaker(data.user.uid));\r\n\r\n\t\tconsole.log(event.currentTarget.textContent);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tauthService.onAuthChange((user) => {\r\n\t\t\tuser && goToMaker(user.uid);\r\n\t\t});\r\n\t});\r\n\r\n\treturn (\r\n\t\t<section class=\"login-wrap\">\r\n\t\t\t<header className=\"header\">\r\n\t\t\t\t<img className=\"logo\" src=\"/images/logo.png\" alt=\"logo\" />\r\n\t\t\t\t<h4 className=\"title\">Business Card Maker</h4>\r\n\t\t\t</header>\r\n\r\n\t\t\t<section className=\"login \">\r\n\t\t\t\t<h5 className=\"mb-3\">Login</h5>\r\n\r\n\t\t\t\t<ul className=\"list\">\r\n\t\t\t\t\t<li className=\"item\">\r\n\t\t\t\t\t\t<button onClick={onLogin}>Google</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"item\">\r\n\t\t\t\t\t\t<button onClick={onLogin}>Github</button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</section>\r\n\t\t\t<footer className=\"footer\">\r\n\t\t\t\t<p className=\"title\">Code your dream</p>\r\n\t\t\t</footer>\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default Login;\r\n","import React, { useRef } from 'react';\r\n\r\nconst AddFom = ({ FileInput, addCard }) => {\r\n\tconst formRef = useRef();\r\n\tconst nameRef = useRef();\r\n\tconst companyRef = useRef();\r\n\tconst themeRef = useRef();\r\n\tconst titleRef = useRef();\r\n\tconst emailRef = useRef();\r\n\tconst messageRef = useRef();\r\n\r\n\t//console.dir(formRef.current);\r\n\r\n\tconst onSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tconst obj = {\r\n\t\t\tid: Date.now(), //uuid\r\n\t\t\tname: nameRef.current.value || '', //null  없다면 생략해도 된다.\r\n\t\t\tcompany: companyRef.current.value || '',\r\n\t\t\ttheme: themeRef.current.value, //select\r\n\t\t\ttitle: titleRef.current.value || '',\r\n\t\t\temail: emailRef.current.value || '',\r\n\t\t\tmessage: messageRef.current.value || '',\r\n\t\t\tfileName: '',\r\n\t\t\tfileURL: '',\r\n\t\t};\r\n\r\n\t\tformRef.current.reset();\r\n\r\n\t\taddCard(obj);\r\n\t};\r\n\treturn (\r\n\t\t<form ref={formRef}>\r\n\t\t\t<ul className=\"editor-list add-form\">\r\n\t\t\t\t<li className=\"item\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-4\">\r\n\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" placeholder=\"name\" name=\"name\" ref={nameRef} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-4\">\r\n\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" placeholder=\"company\" name=\"company\" ref={companyRef} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-4\">\r\n\t\t\t\t\t\t\t<select name=\"theme\" ref={themeRef} className=\"form-select\">\r\n\t\t\t\t\t\t\t\t<option value=\"light\">light</option>\r\n\t\t\t\t\t\t\t\t<option value=\"dark\">dark</option>\r\n\t\t\t\t\t\t\t\t<option value=\"colorful\">colorful</option>\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-6\">\r\n\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" placeholder=\"title\" name=\"title\" ref={titleRef} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-6\">\r\n\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" placeholder=\"email\" name=\"email\" ref={emailRef} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" placeholder=\"message\" name=\"message\" ref={messageRef} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-6\">\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-secondary\">\r\n\t\t\t\t\t\t\t\t<FileInput />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-6\">\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary \" name=\"Add\" onClick={onSubmit}>\r\n\t\t\t\t\t\t\t\tadd\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default AddFom;\r\n","import React from 'react';\nimport styles from './button.module.css';\n\nconst Button = ({ name, onClick }) => (\n  <button className={styles.button} onClick={onClick}>\n    {name}\n  </button>\n);\n\nexport default Button;\n","import React, { memo, useRef } from 'react';\r\nimport styles from './card_edit_form.module.css';\r\nimport Button from '../button/button';\r\n\r\nconst CardEditForm = memo(({ FileInput, card, updateCard, deleteCard }) => {\r\n\tconst nameRef = useRef();\r\n\tconst companyRef = useRef();\r\n\tconst themeRef = useRef();\r\n\tconst titleRef = useRef();\r\n\tconst emailRef = useRef();\r\n\tconst messageRef = useRef();\r\n\r\n\tconst { name, company, title, email, message, theme, fileName } = card;\r\n\r\n\tconst onFileChange = (file) => {\r\n\t\tupdateCard({\r\n\t\t\t...card,\r\n\t\t\tfileName: file.name,\r\n\t\t\tfileURL: file.url,\r\n\t\t});\r\n\t};\r\n\r\n\tconst onChange = (event) => {\r\n\t\tif (event.currentTarget == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tevent.preventDefault();\r\n\t\tupdateCard({\r\n\t\t\t...card,\r\n\t\t\t[event.currentTarget.name]: event.currentTarget.value,\r\n\t\t});\r\n\t};\r\n\r\n\tconst onSubmit = () => {\r\n\t\tdeleteCard(card);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form className={styles.form}>\r\n\t\t\t<input\r\n\t\t\t\tclassName={styles.input}\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tname=\"name\"\r\n\t\t\t\tref={nameRef}\r\n\t\t\t\tvalue={name}\r\n\t\t\t\tonChange={onChange}\r\n\t\t\t/>\r\n\t\t\t<input\r\n\t\t\t\tclassName={styles.input}\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tname=\"company\"\r\n\t\t\t\tref={companyRef}\r\n\t\t\t\tvalue={company}\r\n\t\t\t\tonChange={onChange}\r\n\t\t\t/>\r\n\t\t\t<select\r\n\t\t\t\tclassName={styles.select}\r\n\t\t\t\tname=\"theme\"\r\n\t\t\t\tref={themeRef}\r\n\t\t\t\tvalue={theme}\r\n\t\t\t\tonChange={onChange}\r\n\t\t\t>\r\n\t\t\t\t<option value=\"light\">light</option>\r\n\t\t\t\t<option value=\"dark\">dark</option>\r\n\t\t\t\t<option value=\"colorful\">colorful</option>\r\n\t\t\t</select>\r\n\t\t\t<input\r\n\t\t\t\tclassName={styles.input}\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tname=\"title\"\r\n\t\t\t\tref={titleRef}\r\n\t\t\t\tvalue={title}\r\n\t\t\t\tonChange={onChange}\r\n\t\t\t/>\r\n\t\t\t<input\r\n\t\t\t\tclassName={styles.input}\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tname=\"email\"\r\n\t\t\t\tref={emailRef}\r\n\t\t\t\tvalue={email}\r\n\t\t\t\tonChange={onChange}\r\n\t\t\t/>\r\n\t\t\t<textarea\r\n\t\t\t\tclassName={styles.textarea}\r\n\t\t\t\tref={messageRef}\r\n\t\t\t\tname=\"message\"\r\n\t\t\t\tvalue={message}\r\n\t\t\t\tonChange={onChange}\r\n\t\t\t/>\r\n\t\t\t<div className={styles.fileInput}>\r\n\t\t\t\t<FileInput name={fileName} onFileChange={onFileChange} />\r\n\t\t\t</div>\r\n\t\t\t<Button name=\"Delete\" onClick={onSubmit} />\r\n\t\t</form>\r\n\t);\r\n});\r\n\r\nexport default CardEditForm;\r\n","import React from 'react';\nimport AddFom from './addFom';\nimport './editor.scss';\nimport EditForm from './editForm';\n\n//\n\nconst Editor = ({ FileInput, cards, addCard, updateCard, deleteCard }) => (\n\t<section className=\"editor\">\n\t\t<h3 className=\"title\">Card Maker</h3>\n\t\t<ul className=\"editor-list\">\n\t\t\t{Object.keys(cards).map((key) => (\n\t\t\t\t<EditForm key={key} FileInput={FileInput} card={cards[key]} updateCard={updateCard} deleteCard={deleteCard} />\n\t\t\t))}\n\t\t</ul>\n\n\t\t<h4 className=\"title\">Add Card</h4>\n\t\t<AddFom addCard={addCard} FileInput={FileInput} />\n\t</section>\n);\n\nexport default Editor;\n","import React from 'react';\n\nconst DEFAULT_IMAGE = '/images/default_logo.png';\n\nconst Card = ({ card }) => {\n\tconst { name, company, title, email, message, theme, fileName, fileURL } = card;\n\tconst url = fileURL || DEFAULT_IMAGE;\n\treturn (\n\t\t<li>\n\t\t\t<div className={`card ${getStyles(card.theme)}`}>\n\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t<div className=\"card-thumb col-auto\">\n\t\t\t\t\t\t<img src={url} alt=\"dprofile photo\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"card-text col\">\n\t\t\t\t\t\t<div className=\"name-box\">\n\t\t\t\t\t\t\t<p className=\"name h3\"> {card.name}</p>\n\t\t\t\t\t\t\t<p>{card.company}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"des-box\">\n\t\t\t\t\t\t\t<p>{card.title}</p>\n\t\t\t\t\t\t\t<p>{card.email}</p>\n\t\t\t\t\t\t\t<p>{card.message}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</li>\n\t);\n};\n\nfunction getStyles(theme) {\n\tswitch (theme) {\n\t\tcase 'dark':\n\t\t\treturn 'dark';\n\t\tcase 'light':\n\t\t\treturn 'light';\n\t\tcase 'colorful':\n\t\t\treturn 'colorful';\n\t\tdefault:\n\t}\n}\nexport default Card;\n","import React from 'react';\nimport Card from './card';\nimport './preview.scss';\n\nconst Preview = ({ cards }) => {\n\treturn (\n\t\t<section className=\"preview\">\n\t\t\t<h3 className=\"title\">Card Preview</h3>\n\n\t\t\t<ul className=\"card-list\">\n\t\t\t\t{Object.keys(cards).map((key) => (\n\t\t\t\t\t<Card key={key} card={cards[key]} />\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</section>\n\t);\n};\n\nexport default Preview;\n","import React, { useEffect, useState, useCallback } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Editor from '../editor/editor';\r\nimport Preview from '../preview/preview';\r\nimport './maker.scss';\r\n\r\nconst Maker = ({ authService, FileInput, cardRepository }) => {\r\n\tconst history = useHistory();\r\n\tconst [cards, setCards] = useState({});\r\n\tconst [userId, setUserId] = useState(\r\n\t\thistory.location.state && history.location.state.id\r\n\t);\r\n\r\n\tconst onLogout = useCallback(() => {\r\n\t\tauthService.logout();\r\n\t}, [authService]);\r\n\r\n\t//useEffect 로직별로 만든다.\r\n\tuseEffect(() => {\r\n\t\tif (!userId) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst stopSync = cardRepository.syncCards(userId, (cards) => {\r\n\t\t\tsetCards(cards);\r\n\t\t});\r\n\t\treturn () => stopSync();\r\n\t}, [userId, cardRepository]);\r\n\r\n\tuseEffect(() => {\r\n\t\tauthService.onAuthChange((user) => {\r\n\t\t\tif (user) {\r\n\t\t\t\tsetUserId(user.uid);\r\n\t\t\t} else {\r\n\t\t\t\thistory.push('/');\r\n\t\t\t}\r\n\t\t});\r\n\t}, [authService, userId, history]);\r\n\r\n\tconst createOrUpdateCard = (card) => {\r\n\t\tsetCards((cards) => {\r\n\t\t\tconst updated = { ...cards };\r\n\t\t\tupdated[card.id] = card;\r\n\t\t\treturn updated;\r\n\t\t});\r\n\t\tcardRepository.saveCard(userId, card);\r\n\t};\r\n\r\n\tconst deleteCard = (card) => {\r\n\t\tsetCards((cards) => {\r\n\t\t\tconst updated = { ...cards };\r\n\t\t\tdelete updated[card.id];\r\n\t\t\treturn updated;\r\n\t\t});\r\n\t\tcardRepository.removeCard(userId, card);\r\n\t};\r\n\treturn (\r\n\t\t<section className=\"maker\">\r\n\t\t\t<header className=\"header\">\r\n\t\t\t\t{onLogout && (\r\n\t\t\t\t\t<button className=\"logout\" onClick={onLogout}>\r\n\t\t\t\t\t\tLogout\r\n\t\t\t\t\t</button>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<img className=\"logo\" src=\"/images/logo.png\" alt=\"logo\" />\r\n\t\t\t\t<h2 className=\"title\">Business Card Maker</h2>\r\n\t\t\t</header>\r\n\t\t\t<div className=\"maker-wrap\">\r\n\t\t\t\t<Editor\r\n\t\t\t\t\tFileInput={FileInput}\r\n\t\t\t\t\tcards={cards}\r\n\t\t\t\t\taddCard={createOrUpdateCard}\r\n\t\t\t\t\tupdateCard={createOrUpdateCard}\r\n\t\t\t\t\tdeleteCard={deleteCard}\r\n\t\t\t\t/>\r\n\t\t\t\t<Preview cards={cards} />\r\n\t\t\t</div>\r\n\r\n\t\t\t<footer className=\"footer\">\r\n\t\t\t\t<p className=\"title\">Code your dream</p>\r\n\t\t\t</footer>\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default Maker;\r\n","import React from 'react';\nimport { Route, BrowserRouter, Switch } from 'react-router-dom';\nimport Login from './components/login/login';\nimport Maker from './components/maker/maker';\n\nimport './scss/app.scss';\n\nfunction App({ FileInput, authService, cardRepository }) {\n\treturn (\n\t\t<div className=\"app\">\n\t\t\t<BrowserRouter>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t\t<Login authService={authService} />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"/maker\">\n\t\t\t\t\t\t<Maker\n\t\t\t\t\t\t\tFileInput={FileInput}\n\t\t\t\t\t\t\tauthService={authService}\n\t\t\t\t\t\t\tcardRepository={cardRepository}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t</BrowserRouter>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React, { useRef } from 'react';\n\nimport './image_file_input.scss';\nconst ImageFileInput = ({ imageUploader, name, onFileChange }) => {\n\tconst inputRef = useRef();\n\tconst onButtonClick = (event) => {\n\t\tevent.preventDefault();\n\n\t\tinputRef.current.click();\n\t};\n\n\tconst onChange = async (event) => {\n\t\tconsole.log(event.target.files[0]);\n\n\t\tconst uploaded = await imageUploader.upload(event.target.files[0]);\n\n\t\tconsole.log(uploaded);\n\n\t\tonFileChange({\n\t\t\tname: uploaded.original_filename,\n\t\t\turl: uploaded.url,\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className=\"input-file-wrap\">\n\t\t\t<input\n\t\t\t\ttype=\"file\"\n\t\t\t\tref={inputRef}\n\t\t\t\taccept=\"image/*\"\n\t\t\t\tname=\"file\" //\n\t\t\t\tclassName=\"file-input\"\n\t\t\t\tonChange={onChange}\n\t\t\t/>\n\t\t\t<button className=\"btn-input-file btn btn-primary\" onClick={onButtonClick}>\n\t\t\t\t{name || 'No file'}\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n\nexport default ImageFileInput;\n","import firebase from 'firebase';\r\nconst firebaseConfig = {\r\n\tapiKey: 'AIzaSyAZzatQMJTtyVdcRdKDZ0HWXHYldUU9HAE',\r\n\tauthDomain: 'business-card-maker-42cc6.firebaseapp.com',\r\n\tdatabaseURL: 'https://business-card-maker-42cc6-default-rtdb.firebaseio.com',\r\n\tprojectId: 'business-card-maker-42cc6',\r\n};\r\n\r\n// Initialize Firebase\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\n\r\nexport const firebaseAuth = firebaseApp.auth();\r\nexport const firebaseDatabase = firebaseApp.database();\r\n","import { firebaseAuth } from './firebase';\r\n\r\nclass AuthService {\r\n\tlogin(providerName) {\r\n\t\tconst authProvider = new firebaseAuth[`${providerName}AuthProvider`]();\r\n\t\treturn firebaseAuth.signInWithPopup(authProvider);\r\n\t}\r\n\r\n\tlogout() {\r\n\t\tfirebaseAuth.signOut();\r\n\t}\r\n\r\n\tonAuthChange(onUserChanged) {\r\n\t\tfirebaseAuth.onAuthStateChanged((user) => {\r\n\t\t\tonUserChanged(user);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport default AuthService;\r\n","class ImageUploader {\r\n\tasync upload(file) {\r\n\t\tconst data = new FormData();\r\n\t\tdata.append('file', file);\r\n\t\tdata.append('upload_preset', 'qxagiyyw ');\r\n\t\tconst result = await fetch('https://api.cloudinary.com/v1_1/manaddd/upload', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: data,\r\n\t\t});\r\n\t\treturn await result.json();\r\n\t}\r\n}\r\n\r\nexport default ImageUploader;\r\n","import { firebaseDatabase } from './firebase';\r\n\r\nclass CardRepository {\r\n\t//다른 pc 를 열었을때도 동일한 화면이 나올수 있도록 작업을 해준다.\r\n\tsyncCards(userId, onUpdate) {\r\n\t\tconst ref = firebaseDatabase.ref(`${userId}/cards`);\r\n\t\tref.on('value', (snapshot) => {\r\n\t\t\tconst value = snapshot.val();\r\n\t\t\tvalue && onUpdate(value);\r\n\t\t});\r\n\t\treturn () => ref.off();\r\n\r\n\t\t//언마운트 될때 리스너 분리\r\n\t}\r\n\tsaveCard(userId, card) {\r\n\t\tfirebaseDatabase.ref(`${userId}/cards/${card.id}`).set(card);\r\n\t}\r\n\r\n\tremoveCard(userId, card) {\r\n\t\tfirebaseDatabase.ref(`${userId}/cards/${card.id}`).remove();\r\n\t}\r\n}\r\n\r\nexport default CardRepository;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport ImageFileInput from './components/image_file_input/image_file_input';\nimport AuthService from './service/auth_service';\nimport ImageUploader from './service/image_uploader';\nimport CardRepository from './service/cardRepository';\n\nconst authService = new AuthService();\nconst cardRepository = new CardRepository();\nconst imageUploader = new ImageUploader();\nconst FileInput = (props) => (\n\t<ImageFileInput {...props} imageUploader={imageUploader} />\n);\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App\n\t\t\tauthService={authService}\n\t\t\tFileInput={FileInput}\n\t\t\tcardRepository={cardRepository}\n\t\t/>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}